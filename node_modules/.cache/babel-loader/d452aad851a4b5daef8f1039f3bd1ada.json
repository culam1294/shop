{"ast":null,"code":"import _slicedToArray from\"/Users/lamn/Downloads/github/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addList}from\"../../action/List\";import\"antd/dist/antd.css\";import{List,Card,message,Button,Modal,Tag}from\"antd\";import{ShoppingCartOutlined,MenuUnfoldOutlined}from\"@ant-design/icons\";import{fetchProducts}from\"../../action/DataProducts\";import ButtonCart from\"../menuSecond/ButtonCart\";export default function Home(){var dispatch=useDispatch();var data=useSelector(function(state){return state.data.dataProducts;});var loadProducts=useSelector(function(state){return state.data.load;});var listCart=useSelector(function(state){return state.list;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];useEffect(function(){dispatch(fetchProducts());},[dispatch]);var sendProduct=function sendProduct(id){listCart.forEach(function(e){if(e.id===id){id=null;message.info(\"\".concat(e.name,\" is already in cart\"));}});data.forEach(function(item){if(item.id===id){dispatch(addList(item));}});};var handleCancel=function handleCancel(){setVisible(false);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),image=_useState12[0],setImage=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),detail=_useState14[0],setDetail=_useState14[1];var _onClick=function onClick(item){setVisible(true);setId(item.id);setName(item.name);setDescription(item.description);setPrice(item.price);setImage(item.image);setDetail(item.detail);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{width:750,visible:visible,title:[/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"h3\",null,\" Product details\"))],onCancel:handleCancel,footer:/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"}},/*#__PURE__*/React.createElement(Button,{type:\"danger\",onClick:function onClick(){return sendProduct(id);}},\"Add to Cart \",/*#__PURE__*/React.createElement(ShoppingCartOutlined,null)),/*#__PURE__*/React.createElement(Button,{style:{margin:\"0px 10px\"},type:\"primary\",onClick:handleCancel},\"Return\"),/*#__PURE__*/React.createElement(ButtonCart,null))},/*#__PURE__*/React.createElement(\"h2\",null,name),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"i\",null,\"Description: \",description)),/*#__PURE__*/React.createElement(\"p\",null,\"Detail: \",detail),/*#__PURE__*/React.createElement(\"h3\",null,\"Price: \",price,\" $\"),/*#__PURE__*/React.createElement(\"img\",{style:{height:\"100%\",width:\"100%\",objectFit:\"fill\"},alt:\"img\",src:image})),/*#__PURE__*/React.createElement(List,{header:/*#__PURE__*/React.createElement(\"h2\",null,/*#__PURE__*/React.createElement(MenuUnfoldOutlined,null),\"All Products\"),style:{margin:\"20px 0px\"},grid:{gutter:10,xs:1,sm:2,md:2,lg:3,xl:3,xxl:4},loading:loadProducts,pagination:{hideOnSinglePage:true,defaultPageSize:20},dataSource:data,renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(List.Item,null,/*#__PURE__*/React.createElement(Card,{cover:/*#__PURE__*/React.createElement(\"img\",{onClick:function onClick(){return _onClick(item);},alt:\"Products list\",src:item.image}),style:{textAlign:\"center\"},hoverable:\"true\"},/*#__PURE__*/React.createElement(\"h3\",{onClick:function onClick(){return _onClick(item);},style:{color:\"blue\"}},item.name),/*#__PURE__*/React.createElement(\"div\",{style:{height:60}},/*#__PURE__*/React.createElement(\"i\",null,\"Description: \",item.description)),/*#__PURE__*/React.createElement(\"span\",null,\"Tag: \"),item.tag.length<5?/*#__PURE__*/React.createElement(Tag,{color:\"volcano\"},item.tag):item.tag.length===5?/*#__PURE__*/React.createElement(Tag,{color:\"green\"},item.tag):/*#__PURE__*/React.createElement(Tag,{color:\"blue\"},item.tag),/*#__PURE__*/React.createElement(\"h3\",null,item.price.toLocaleString(),\" $\"),/*#__PURE__*/React.createElement(Button,{style:{margin:5},type:\"danger\",onClick:function onClick(){return sendProduct(item.id);}},\"Add to Cart \",/*#__PURE__*/React.createElement(ShoppingCartOutlined,null))));}}));}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/shop/src/components/home/ProductsList.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","addList","List","Card","message","Button","Modal","Tag","ShoppingCartOutlined","MenuUnfoldOutlined","fetchProducts","ButtonCart","Home","dispatch","data","state","dataProducts","loadProducts","load","listCart","list","visible","setVisible","sendProduct","id","forEach","e","info","name","item","handleCancel","setId","setName","description","setDescription","price","setPrice","image","setImage","detail","setDetail","onClick","display","justifyContent","margin","height","width","objectFit","gutter","xs","sm","md","lg","xl","xxl","hideOnSinglePage","defaultPageSize","textAlign","color","tag","length","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addList } from \"../../action/List\";\nimport \"antd/dist/antd.css\";\nimport { List, Card, message, Button, Modal, Tag } from \"antd\";\nimport { ShoppingCartOutlined, MenuUnfoldOutlined } from \"@ant-design/icons\";\nimport { fetchProducts } from \"../../action/DataProducts\";\nimport ButtonCart from \"../menuSecond/ButtonCart\";\n\nexport default function Home() {\n  const dispatch = useDispatch();\n  const data = useSelector((state) => state.data.dataProducts);\n  const loadProducts = useSelector((state) => state.data.load);\n  const listCart = useSelector((state) => state.list);\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchProducts());\n  }, [dispatch]);\n\n  const sendProduct = (id) => {\n    listCart.forEach((e) => {\n      if (e.id === id) {\n        id = null;\n        message.info(`${e.name} is already in cart`);\n      }\n    });\n    data.forEach((item) => {\n      if (item.id === id) {\n        dispatch(addList(item));\n      }\n    });\n  };\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const [id, setId] = useState();\n  const [name, setName] = useState();\n  const [description, setDescription] = useState();\n  const [price, setPrice] = useState();\n  const [image, setImage] = useState();\n  const [detail, setDetail] = useState();\n  const onClick = (item) => {\n    setVisible(true);\n    setId(item.id);\n    setName(item.name);\n    setDescription(item.description);\n    setPrice(item.price);\n    setImage(item.image);\n    setDetail(item.detail);\n  };\n\n  return (\n    <>\n      <Modal\n        width={750}\n        visible={visible}\n        title={[\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <h3> Product details</h3>\n          </div>,\n        ]}\n        onCancel={handleCancel}\n        footer={\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <Button type=\"danger\" onClick={() => sendProduct(id)}>\n              Add to Cart <ShoppingCartOutlined />\n            </Button>\n            <Button\n              style={{ margin: \"0px 10px\" }}\n              type=\"primary\"\n              onClick={handleCancel}\n            >\n              Return\n            </Button>\n            <ButtonCart />\n          </div>\n        }\n      >\n        <h2>{name}</h2>\n        <p>\n          <i>Description: {description}</i>\n        </p>\n        <p>Detail: {detail}</p>\n        <h3>Price: {price} $</h3>\n        <img\n          style={{ height: \"100%\", width: \"100%\", objectFit: \"fill\" }}\n          alt=\"img\"\n          src={image}\n        />\n      </Modal>\n      <List\n        header={\n          <h2>\n            <MenuUnfoldOutlined />\n            All Products\n          </h2>\n        }\n        style={{ margin: \"20px 0px\" }}\n        grid={{\n          gutter: 10,\n          xs: 1,\n          sm: 2,\n          md: 2,\n          lg: 3,\n          xl: 3,\n          xxl: 4,\n        }}\n        loading={loadProducts}\n        pagination={{ hideOnSinglePage: true, defaultPageSize: 20 }}\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item>\n            <Card\n              cover={\n                <img\n                  onClick={() => onClick(item)}\n                  alt=\"Products list\"\n                  src={item.image}\n                />\n              }\n              style={{ textAlign: \"center\" }}\n              hoverable=\"true\"\n            >\n              <h3 onClick={() => onClick(item)} style={{ color: \"blue\" }}>\n                {item.name}\n              </h3>\n              <div style={{ height: 60 }}>\n                <i>Description: {item.description}</i>\n              </div>\n\n              <span>Tag: </span>\n              {item.tag.length < 5 ? (\n                <Tag color=\"volcano\">{item.tag}</Tag>\n              ) : item.tag.length === 5 ? (\n                <Tag color=\"green\">{item.tag}</Tag>\n              ) : (\n                <Tag color=\"blue\">{item.tag}</Tag>\n              )}\n\n              <h3>{item.price.toLocaleString()} $</h3>\n              <Button\n                style={{ margin: 5 }}\n                type=\"danger\"\n                onClick={() => sendProduct(item.id)}\n              >\n                Add to Cart <ShoppingCartOutlined />\n              </Button>\n            </Card>\n          </List.Item>\n        )}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}