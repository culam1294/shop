{"ast":null,"code":"var _jsxFileName = \"/Users/lamn/Downloads/github/mycv/src/components/ProductsList.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addList } from \"../action/List\";\nimport \"antd/dist/antd.css\";\nimport { List, Card, message, Button, Badge, Input, BackTop, Space, Affix, Modal } from \"antd\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport CarouselHome from \"./carousel/Carousel\";\nimport callApi from \"../api/ApiCaller\";\nimport { useHistory } from \"react-router-dom\";\nimport LoginNavbar from \"./LoginNavbar\";\nexport default function Home() {\n  useEffect(() => {\n    async function fetchData() {\n      await callApi(\"get\", \"products\", null).then(res => {\n        setData(res.data);\n        setDataSearch(res.data);\n        setLoad(false);\n      });\n    }\n\n    fetchData();\n  }, []);\n  const {\n    Search\n  } = Input;\n  const [data, setData] = useState();\n  const renderModal = data.map((item, key) => /*#__PURE__*/React.createElement(Modal, {\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    footer: [/*#__PURE__*/React.createElement(Button, {\n      key: \"back\",\n      onClick: handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, \"Return\"), /*#__PURE__*/React.createElement(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      onClick: handleOk,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }\n    }, \"Submit\")],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      color: \"blue\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      height: 60\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, item.description), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, item.price.toLocaleString(), \" $\"), /*#__PURE__*/React.createElement(\"img\", {\n    onClick: () => setVisible(true),\n    alt: \"Products list\",\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      margin: 5\n    },\n    danger: true,\n    onClick: () => sendProduct(item.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Add to Cart \", /*#__PURE__*/React.createElement(ShoppingCartOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 23\n    }\n  }))));\n  const [load, setLoad] = useState(true);\n  const [dataSearch, setDataSearch] = useState();\n  const dispatch = useDispatch();\n  const listCart = useSelector(state => state.list);\n  const history = useHistory();\n\n  const goToCart = () => {\n    history.push(\"/cart\");\n  };\n\n  const sendProduct = id => {\n    listCart.forEach(e => {\n      if (e.id === id) {\n        id = null;\n        message.info(`${e.name} is already in cart`);\n      }\n    });\n    data.forEach(item => {\n      if (item.id === id) {\n        dispatch(addList(item));\n      }\n    });\n  };\n\n  const onSearch = value => {\n    const listSearch = [];\n    dataSearch.forEach(item => {\n      if (item.name.indexOf(value) !== -1) {\n        listSearch.push(item);\n      }\n    });\n    setData(listSearch);\n  };\n\n  const [visible, setVisible] = useState(false);\n\n  const handleOk = () => {\n    setVisible(false);\n  };\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BackTop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Space, {\n    style: {\n      margin: 7\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Affix, {\n    offsetTop: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => goToCart(),\n    style: {\n      borderRadius: \"5px\"\n    },\n    type: \"primary\",\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Badge, {\n    count: listCart.length,\n    showZero: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontSize: \"1.5em\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 15\n    }\n  }, \"Cart\"), /*#__PURE__*/React.createElement(ShoppingCartOutlined, {\n    style: {\n      fontSize: \"1.5em\",\n      margin: 3\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Search, {\n    allowClear: \"true\",\n    onSearch: value => onSearch(value),\n    enterButton: true,\n    placeholder: \"Search...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(LoginNavbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CarouselHome, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(List, {\n    grid: {\n      gutter: 10,\n      xs: 1,\n      sm: 2,\n      md: 2,\n      lg: 3,\n      xl: 3,\n      xxl: 4\n    },\n    loading: load,\n    pagination: {\n      hideOnSinglePage: true\n    },\n    dataSource: data,\n    renderItem: item => /*#__PURE__*/React.createElement(List.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      cover: /*#__PURE__*/React.createElement(\"img\", {\n        // onClick={() => setVisible(true)}\n        alt: \"Products list\",\n        src: item.image,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 17\n        }\n      }),\n      style: {\n        textAlign: \"center\"\n      },\n      hoverable: \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      // onClick={() => setVisible(true)}\n      style: {\n        color: \"blue\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        height: 60\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 15\n      }\n    }, item.description), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }\n    }, item.price.toLocaleString(), \" $\"), /*#__PURE__*/React.createElement(Button, {\n      style: {\n        margin: 5\n      },\n      danger: true,\n      onClick: () => sendProduct(item.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, \"Add to Cart \", /*#__PURE__*/React.createElement(ShoppingCartOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 29\n      }\n    })))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/mycv/src/components/ProductsList.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","addList","List","Card","message","Button","Badge","Input","BackTop","Space","Affix","Modal","ShoppingCartOutlined","CarouselHome","callApi","useHistory","LoginNavbar","Home","fetchData","then","res","setData","data","setDataSearch","setLoad","Search","renderModal","map","item","key","visible","handleOk","handleCancel","color","name","height","description","price","toLocaleString","setVisible","image","margin","sendProduct","id","load","dataSearch","dispatch","listCart","state","list","history","goToCart","push","forEach","e","info","onSearch","value","listSearch","indexOf","borderRadius","length","fontSize","gutter","xs","sm","md","lg","xl","xxl","hideOnSinglePage","textAlign"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addList } from \"../action/List\";\nimport \"antd/dist/antd.css\";\nimport {\n  List,\n  Card,\n  message,\n  Button,\n  Badge,\n  Input,\n  BackTop,\n  Space,\n  Affix,\n  Modal,\n} from \"antd\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport CarouselHome from \"./carousel/Carousel\";\nimport callApi from \"../api/ApiCaller\";\nimport { useHistory } from \"react-router-dom\";\nimport LoginNavbar from \"./LoginNavbar\";\n\nexport default function Home() {\n  useEffect(() => {\n    async function fetchData() {\n      await callApi(\"get\", \"products\", null).then((res) => {\n        setData(res.data);\n        setDataSearch(res.data);\n        setLoad(false);\n      });\n    }\n    fetchData();\n  }, []);\n  const { Search } = Input;\n  const [data, setData] = useState();\n  const renderModal = data.map((item,key)=>(\n    <Modal\n        visible={visible}\n        onOk={handleOk}\n        onCancel={handleCancel}\n        footer={[\n          <Button key=\"back\" onClick={handleCancel}>\n            Return\n          </Button>,\n          <Button key=\"submit\" type=\"primary\" onClick={handleOk}>\n            Submit\n          </Button>,\n        ]}\n      >\n        <h3 style={{ color: \"blue\" }}>{item.name}</h3>\n        <div style={{ height: 60 }}>{item.description}</div>\n        <h3>{item.price.toLocaleString()} $</h3>\n        <img\n            onClick={() => setVisible(true)}\n            alt=\"Products list\"\n            src={item.image}\n          />\n        <Button\n          style={{ margin: 5 }}\n          danger\n          onClick={() => sendProduct(item.id)}\n        >\n          Add to Cart <ShoppingCartOutlined />\n        </Button>\n      </Modal>\n  ))\n  const [load, setLoad] = useState(true);\n  const [dataSearch, setDataSearch] = useState();\n\n  const dispatch = useDispatch();\n  const listCart = useSelector((state) => state.list);\n\n  const history = useHistory();\n  const goToCart = () => {\n    history.push(\"/cart\");\n  };\n\n  const sendProduct = (id) => {\n    listCart.forEach((e) => {\n      if (e.id === id) {\n        id = null;\n        message.info(`${e.name} is already in cart`);\n      }\n    });\n    data.forEach((item) => {\n      if (item.id === id) {\n        dispatch(addList(item));\n      }\n    });\n  };\n  const onSearch = (value) => {\n    const listSearch = [];\n    dataSearch.forEach((item) => {\n      if (item.name.indexOf(value) !== -1) {\n        listSearch.push(item);\n      }\n    });\n    setData(listSearch);\n  };\n  const [visible, setVisible] = useState(false);\n  const handleOk = () => {\n    setVisible(false);\n  };\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  return (\n    <>\n      {/* {console.log(data)} */}\n      {/* {\n        data.map((item,key)=>(\n          <Modal\n              visible={visible}\n              onOk={handleOk}\n              onCancel={handleCancel}\n              footer={[\n                <Button key=\"back\" onClick={handleCancel}>\n                  Return\n                </Button>,\n                <Button key=\"submit\" type=\"primary\" onClick={handleOk}>\n                  Submit\n                </Button>,\n              ]}\n            >\n              <h3 style={{ color: \"blue\" }}>{item.name}</h3>\n              <div style={{ height: 60 }}>{item.description}</div>\n              <h3>{item.price.toLocaleString()} $</h3>\n              <img\n                  onClick={() => setVisible(true)}\n                  alt=\"Products list\"\n                  src={item.image}\n                />\n              <Button\n                style={{ margin: 5 }}\n                danger\n                onClick={() => sendProduct(item.id)}\n              >\n                Add to Cart <ShoppingCartOutlined />\n              </Button>\n            </Modal>\n        ))\n      } */}\n      <BackTop />\n      <Space\n        style={{\n          margin: 7,\n        }}\n      >\n        <Affix offsetTop={10}>\n          <Button\n            onClick={() => goToCart()}\n            style={{\n              borderRadius: \"5px\",\n            }}\n            type=\"primary\"\n            size=\"large\"\n          >\n            <Badge count={listCart.length} showZero>\n              <span style={{ fontSize: \"1.5em\" }}>Cart</span>\n              <ShoppingCartOutlined style={{ fontSize: \"1.5em\", margin: 3 }} />\n            </Badge>\n          </Button>\n        </Affix>\n        <Search\n          allowClear=\"true\"\n          onSearch={(value) => onSearch(value)}\n          enterButton\n          placeholder=\"Search...\"\n        />\n        <LoginNavbar />\n      </Space>\n\n      <CarouselHome />\n      <List\n        grid={{\n          gutter: 10,\n          xs: 1,\n          sm: 2,\n          md: 2,\n          lg: 3,\n          xl: 3,\n          xxl: 4,\n        }}\n        loading={load}\n        pagination={{ hideOnSinglePage: true }}\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item>\n            <Card\n              cover={\n                <img\n                  // onClick={() => setVisible(true)}\n                  alt=\"Products list\"\n                  src={item.image}\n                />\n              }\n              style={{ textAlign: \"center\" }}\n              hoverable=\"true\"\n            >\n              <h3\n                // onClick={() => setVisible(true)}\n                style={{ color: \"blue\" }}\n              >\n                {item.name}\n              </h3>\n              <div style={{ height: 60 }}>{item.description}</div>\n              <h3>{item.price.toLocaleString()} $</h3>\n              <Button\n                style={{ margin: 5 }}\n                danger\n                onClick={() => sendProduct(item.id)}\n              >\n                Add to Cart <ShoppingCartOutlined />\n              </Button>\n            </Card>\n          </List.Item>\n        )}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}