{"ast":null,"code":"import _slicedToArray from\"/Users/lamn/Downloads/github/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{List,Button,message,Popconfirm,Modal,Empty}from\"antd\";import{useSelector,useDispatch}from\"react-redux\";import{incrementAmount,decrementAmount,removeList}from\"../../action/List\";import ButtonOrder from\"./ButtonOrder\";export default function Cart(){var listData=useSelector(function(state){return state.list;});var dispatch=useDispatch();var totalBill=0;listData.forEach(function(item){totalBill=totalBill+item.price*item.amount;});var increment=function increment(id){listData.forEach(function(item){if(item.id===id){dispatch(incrementAmount(id));}});};var decrement=function decrement(id){listData.forEach(function(item){if(item.id===id){if(item.amount===1){message.info(\"Amount of \".concat(item.name,\" must be larger than 1\"));}dispatch(decrementAmount(id));}});};var deleteList=function deleteList(id){listData.forEach(function(item){if(item.id===id){dispatch(removeList(id));}});};//Cart\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var handleCancel=function handleCancel(){setVisible(false);};var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),price=_useState10[0],setPrice=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),image=_useState12[0],setImage=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),detail=_useState14[0],setDetail=_useState14[1];var _onClick=function onClick(item){setVisible(true);setId(item.id);setName(item.name);setDescription(item.description);setPrice(item.price);setImage(item.image);setDetail(item.detail);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Modal,{width:750,visible:visible,title:[/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(\"h3\",null,\" Product details\"))],onCancel:handleCancel,footer:/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"flex-end\"}},/*#__PURE__*/React.createElement(Button,{style:{margin:\"0px 10px\"},type:\"primary\",onClick:handleCancel},\"Return\"))},/*#__PURE__*/React.createElement(\"h2\",null,name),/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(\"i\",null,\"Description: \",description)),/*#__PURE__*/React.createElement(\"p\",null,\"Detail: \",detail),/*#__PURE__*/React.createElement(\"h3\",null,\"Price: \",price,\" $\"),/*#__PURE__*/React.createElement(\"img\",{style:{height:\"100%\",width:\"100%\",objectFit:\"fill\"},alt:\"img\",src:image})),/*#__PURE__*/React.createElement(List,{locale:{emptyText:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Empty,{description:false}),/*#__PURE__*/React.createElement(\"h2\",null,\"No products in the cart, please continue shopping!\"))},style:{padding:20},itemLayout:\"vertical\",pagination:{hideOnSinglePage:true},dataSource:listData,footer:/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h1\",null,\"Total Bill:\",/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\",margin:5}},totalBill.toLocaleString()),\"$\"),/*#__PURE__*/React.createElement(ButtonOrder,null)),renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(List.Item,{key:item.id,extra:/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _onClick(item);},href:true},/*#__PURE__*/React.createElement(\"img\",{width:150,alt:\"logo\",src:item.image}))},/*#__PURE__*/React.createElement(List.Item.Meta,null),/*#__PURE__*/React.createElement(\"a\",{href:true,onClick:function onClick(){return _onClick(item);}},/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"blue\"}},item.name)),/*#__PURE__*/React.createElement(\"h4\",null,/*#__PURE__*/React.createElement(\"i\",null,\"description: \",item.description)),/*#__PURE__*/React.createElement(\"h4\",null,\"Price: \",item.price.toLocaleString(),\" $\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"Amount\"),/*#__PURE__*/React.createElement(Button,{size:\"small\",style:{margin:\"0 5px\"},onClick:function onClick(){return decrement(item.id);}},\"-\"),/*#__PURE__*/React.createElement(\"h3\",null,item.amount),/*#__PURE__*/React.createElement(Button,{size:\"small\",style:{margin:\"0 5px\"},onClick:function onClick(){return increment(item.id);}},\"+\")),/*#__PURE__*/React.createElement(Popconfirm,{placement:\"bottomLeft\",title:\"Are you sure delete \".concat(item.name,\" ?\"),okText:\"Yes\",cancelText:\"No\",onConfirm:function onConfirm(){return deleteList(item.id);}},/*#__PURE__*/React.createElement(Button,{type:\"link\"},\"Delete\")),/*#__PURE__*/React.createElement(\"hr\",null));}}));}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/shop/src/components/cart/Cart.jsx"],"names":["React","useState","List","Button","message","Popconfirm","Modal","Empty","useSelector","useDispatch","incrementAmount","decrementAmount","removeList","ButtonOrder","Cart","listData","state","list","dispatch","totalBill","forEach","item","price","amount","increment","id","decrement","info","name","deleteList","visible","setVisible","handleCancel","setId","setName","description","setDescription","setPrice","image","setImage","detail","setDetail","onClick","display","justifyContent","margin","height","width","objectFit","emptyText","padding","hideOnSinglePage","textAlign","color","toLocaleString"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { List, Button, message, Popconfirm, Modal, Empty } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  incrementAmount,\n  decrementAmount,\n  removeList,\n} from \"../../action/List\";\nimport ButtonOrder from \"./ButtonOrder\";\n\nexport default function Cart() {\n  const listData = useSelector((state) => state.list);\n  const dispatch = useDispatch();\n\n  let totalBill = 0;\n  listData.forEach((item) => {\n    totalBill = totalBill + item.price * item.amount;\n  });\n\n  const increment = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        dispatch(incrementAmount(id));\n      }\n    });\n  };\n  const decrement = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        if (item.amount === 1) {\n          message.info(`Amount of ${item.name} must be larger than 1`);\n        }\n        dispatch(decrementAmount(id));\n      }\n    });\n  };\n  const deleteList = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        dispatch(removeList(id));\n      }\n    });\n  };\n\n  //Cart\n\n  const [visible, setVisible] = useState(false);\n\n  const handleCancel = () => {\n    setVisible(false);\n  };\n\n  const [id, setId] = useState();\n  const [name, setName] = useState();\n  const [description, setDescription] = useState();\n  const [price, setPrice] = useState();\n  const [image, setImage] = useState();\n  const [detail, setDetail] = useState();\n  const onClick = (item) => {\n    setVisible(true);\n    setId(item.id);\n    setName(item.name);\n    setDescription(item.description);\n    setPrice(item.price);\n    setImage(item.image);\n    setDetail(item.detail);\n  };\n\n  return (\n    <>\n      <Modal\n        width={750}\n        visible={visible}\n        title={[\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <h3> Product details</h3>\n          </div>,\n        ]}\n        onCancel={handleCancel}\n        footer={\n          <div style={{ display: \"flex\", justifyContent: \"flex-end\" }}>\n            <Button\n              style={{ margin: \"0px 10px\" }}\n              type=\"primary\"\n              onClick={handleCancel}\n            >\n              Return\n            </Button>\n          </div>\n        }\n      >\n        <h2>{name}</h2>\n        <p>\n          <i>Description: {description}</i>\n        </p>\n        <p>Detail: {detail}</p>\n        <h3>Price: {price} $</h3>\n        <img\n          style={{ height: \"100%\", width: \"100%\", objectFit: \"fill\" }}\n          alt=\"img\"\n          src={image}\n        />\n      </Modal>\n      <List\n        locale={{\n          emptyText: (\n            <>\n              <Empty description={false} />\n              <h2>No products in the cart, please continue shopping!</h2>\n            </>\n          ),\n        }}\n        style={{ padding: 20 }}\n        itemLayout=\"vertical\"\n        pagination={{ hideOnSinglePage: true }}\n        dataSource={listData}\n        footer={\n          <div style={{ textAlign: \"center\" }}>\n            <hr />\n            <h1>\n              Total Bill:\n              <span style={{ color: \"red\", margin: 5 }}>\n                {totalBill.toLocaleString()}\n              </span>\n              $\n            </h1>\n            <ButtonOrder />\n          </div>\n        }\n        renderItem={(item) => (\n          <List.Item\n            key={item.id}\n            extra={\n              <a onClick={() => onClick(item)} href>\n                <img width={150} alt=\"logo\" src={item.image} />\n              </a>\n            }\n          >\n            <List.Item.Meta />\n            <a href onClick={() => onClick(item)}>\n              <h3 style={{ color: \"blue\" }}>{item.name}</h3>\n            </a>\n            <h4>\n              <i>description: {item.description}</i>\n            </h4>\n            <h4>Price: {item.price.toLocaleString()} $</h4>\n            <div style={{ display: \"flex\" }}>\n              <h3>Amount</h3>\n              <Button\n                size=\"small\"\n                style={{ margin: \"0 5px\" }}\n                onClick={() => decrement(item.id)}\n              >\n                -\n              </Button>\n              <h3>{item.amount}</h3>\n              <Button\n                size=\"small\"\n                style={{ margin: \"0 5px\" }}\n                onClick={() => increment(item.id)}\n              >\n                +\n              </Button>\n            </div>\n            <Popconfirm\n              placement=\"bottomLeft\"\n              title={`Are you sure delete ${item.name} ?`}\n              okText=\"Yes\"\n              cancelText=\"No\"\n              onConfirm={() => deleteList(item.id)}\n            >\n              <Button type=\"link\">Delete</Button>\n            </Popconfirm>\n\n            <hr />\n          </List.Item>\n        )}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}