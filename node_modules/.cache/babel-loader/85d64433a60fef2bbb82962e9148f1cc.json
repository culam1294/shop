{"ast":null,"code":"import _slicedToArray from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{List,Button,message,Popconfirm}from\"antd\";import{useSelector,useDispatch}from\"react-redux\";import{incrementAmount,decrementAmount,removeList,orderSuccess}from\"../action/List\";import{useHistory}from\"react-router-dom\";export default function Cart(){var listData=useSelector(function(state){return state.list;});var dispatch=useDispatch();var history=useHistory();var totalBill=0;listData.forEach(function(item){totalBill=totalBill+item.price*item.amount;});var increment=function increment(id){listData.forEach(function(item){if(item.id===id){dispatch(incrementAmount(id));}});};var decrement=function decrement(id){listData.forEach(function(item){if(item.id===id){if(item.amount===1){message.info(\"Amount of \".concat(item.name,\" must be larger than 1\"));}dispatch(decrementAmount(id));}});};var deleteList=function deleteList(id){listData.forEach(function(item){if(item.id===id){dispatch(removeList(id));}});};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),load=_useState2[0],setLoad=_useState2[1];var orderNow=function orderNow(){setLoad(true);setTimeout(function(){dispatch(orderSuccess());setLoad(false);message.success(\"ORDER SUCCESSFULLY!\");setIsButton(false);},1000);};var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isButton=_useState4[0],setIsButton=_useState4[1];var buttonOrderNow=function buttonOrderNow(){return/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return orderNow();},loading:load,type:\"primary\",danger:true},\"ORDER NOW!\");};var buttonContinueShopping=function buttonContinueShopping(){return/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return history.push(\"/\");},type:\"primary\"},\"Continue Shopping!\");};return/*#__PURE__*/React.createElement(List,{itemLayout:\"vertical\",pagination:{hideOnSinglePage:true},dataSource:listData,footer:/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"h1\",null,\"Total Bill:\",/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\",margin:5}},totalBill.toLocaleString()),\"$\"),listData.length===0?buttonContinueShopping():isButton?buttonOrderNow():buttonContinueShopping()),renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(List.Item,{key:item.id,extra:/*#__PURE__*/React.createElement(\"a\",{href:\"https://github.com/\"},/*#__PURE__*/React.createElement(\"img\",{width:150,alt:\"logo\",src:item.image}))},/*#__PURE__*/React.createElement(List.Item.Meta,null),/*#__PURE__*/React.createElement(\"h3\",{style:{color:\"blue\"}},item.name),/*#__PURE__*/React.createElement(\"h4\",null,\" \",item.description),/*#__PURE__*/React.createElement(\"h4\",null,\"Price \",item.price.toLocaleString(),\" $\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\"}},/*#__PURE__*/React.createElement(\"h3\",null,\"Amount\"),/*#__PURE__*/React.createElement(Button,{size:\"small\",style:{margin:\"0 5px\"},onClick:function onClick(){return decrement(item.id);}},\"-\"),/*#__PURE__*/React.createElement(\"h3\",null,item.amount),/*#__PURE__*/React.createElement(Button,{size:\"small\",style:{margin:\"0 5px\"},onClick:function onClick(){return increment(item.id);}},\"+\")),/*#__PURE__*/React.createElement(Popconfirm,{placement:\"bottomLeft\",title:\"Are you sure delete \".concat(item.name,\" ?\"),okText:\"Yes\",cancelText:\"No\",onConfirm:function onConfirm(){return deleteList(item.id);}},/*#__PURE__*/React.createElement(Button,{type:\"link\"},\"Delete\")),/*#__PURE__*/React.createElement(\"hr\",null));}});}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/mycv/src/components/Cart.jsx"],"names":["React","useState","List","Button","message","Popconfirm","useSelector","useDispatch","incrementAmount","decrementAmount","removeList","orderSuccess","useHistory","Cart","listData","state","list","dispatch","history","totalBill","forEach","item","price","amount","increment","id","decrement","info","name","deleteList","load","setLoad","orderNow","setTimeout","success","setIsButton","isButton","buttonOrderNow","buttonContinueShopping","push","hideOnSinglePage","textAlign","color","margin","toLocaleString","length","image","description","display"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { List, Button, message, Popconfirm } from \"antd\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  incrementAmount,\n  decrementAmount,\n  removeList,\n  orderSuccess,\n} from \"../action/List\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Cart() {\n  const listData = useSelector((state) => state.list);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  let totalBill = 0;\n  listData.forEach((item) => {\n    totalBill = totalBill + item.price * item.amount;\n  });\n\n  const increment = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        dispatch(incrementAmount(id));\n      }\n    });\n  };\n  const decrement = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        if (item.amount === 1) {\n          message.info(`Amount of ${item.name} must be larger than 1`);\n        }\n        dispatch(decrementAmount(id));\n      }\n    });\n  };\n\n  const deleteList = (id) => {\n    listData.forEach((item) => {\n      if (item.id === id) {\n        dispatch(removeList(id));\n      }\n    });\n  };\n  const [load, setLoad] = useState(false);\n  const orderNow = () => {\n    setLoad(true);\n    setTimeout(() => {\n      dispatch(orderSuccess());\n      setLoad(false);\n      message.success(\"ORDER SUCCESSFULLY!\");\n      setIsButton(false);\n    }, 1000);\n  };\n  const [isButton, setIsButton] = useState(true);\n  const buttonOrderNow = () => (\n    <Button onClick={() => orderNow()} loading={load} type=\"primary\" danger>\n      ORDER NOW!\n    </Button>\n  );\n  const buttonContinueShopping = () => (\n    <Button onClick={() => history.push(\"/\")} type=\"primary\">\n      Continue Shopping!\n    </Button>\n  );\n  return (\n    <List\n      itemLayout=\"vertical\"\n      pagination={{ hideOnSinglePage: true }}\n      dataSource={listData}\n      footer={\n        <div style={{ textAlign: \"center\" }}>\n          <hr />\n          <h1>\n            Total Bill:\n            <span style={{ color: \"red\",margin:5 }}>{totalBill.toLocaleString()}</span>$\n          </h1>\n          {listData.length === 0\n            ? buttonContinueShopping()\n            : isButton\n            ? buttonOrderNow()\n            : buttonContinueShopping()}\n        </div>\n      }\n      renderItem={(item) => (\n        <List.Item\n          key={item.id}\n          extra={\n            <a href=\"https://github.com/\">\n              <img width={150} alt=\"logo\" src={item.image} />\n            </a>\n          }\n        >\n          <List.Item.Meta />\n          <h3 style={{ color: \"blue\" }}>{item.name}</h3>\n          <h4> {item.description}</h4>\n          <h4>Price {item.price.toLocaleString()} $</h4>\n          <div style={{ display: \"flex\" }}>\n            <h3>Amount</h3>\n            <Button\n              size=\"small\"\n              style={{ margin: \"0 5px\" }}\n              onClick={() => decrement(item.id)}\n            >\n              -\n            </Button>\n            <h3>{item.amount}</h3>\n            <Button\n              size=\"small\"\n              style={{ margin: \"0 5px\" }}\n              onClick={() => increment(item.id)}\n            >\n              +\n            </Button>\n          </div>\n          <Popconfirm\n            placement=\"bottomLeft\"\n            title={`Are you sure delete ${item.name} ?`}\n            okText=\"Yes\"\n            cancelText=\"No\"\n            onConfirm={() => deleteList(item.id)}\n          >\n            <Button type=\"link\">Delete</Button>\n          </Popconfirm>\n          <hr />\n        </List.Item>\n      )}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}