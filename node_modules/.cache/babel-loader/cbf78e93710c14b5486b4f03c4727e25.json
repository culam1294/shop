{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Modal,Button,Form,Input,Checkbox,message}from\"antd\";import{useDispatch}from\"react-redux\";import{isLogin}from\"../../action/IsLogin\";export default function ModalForm(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),visible=_useState2[0],setVisible=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoad=_useState4[0],setIsLoad=_useState4[1];var dispatch=useDispatch();var onFinish=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setVisible(false);setIsLoad(false);message.success(\"Login success!\");dispatch(isLogin());case 4:case\"end\":return _context.stop();}}},_callee);}));return function onFinish(_x){return _ref.apply(this,arguments);};}();var onFinishFailed=function onFinishFailed(err){console.log(\"Login failed!\",err);setIsLoad(!isLoad);};var onCancel=function onCancel(){setVisible(false);setIsLoad(false);};var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var onReset=function onReset(){form.resetFields();setIsLoad(false);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{fontSize:\"1.5em\"},type:\"link\",onClick:function onClick(){return setVisible(true);}},\"Login\"),/*#__PURE__*/React.createElement(Modal,{closable:false,title:\"Login to buy more\",visible:visible,footer:null},/*#__PURE__*/React.createElement(Form,{form:form,onFinish:onFinish,onFinishFailed:onFinishFailed,wrapperCol:{span:20},labelCol:{span:30},layout:\"horizontal\"},/*#__PURE__*/React.createElement(Form.Item,{rules:[{required:true}],name:\"account\"},/*#__PURE__*/React.createElement(Input,{placeholder:\"Account\"})),/*#__PURE__*/React.createElement(Form.Item,{rules:[{required:true}],name:\"password\"},/*#__PURE__*/React.createElement(Input.Password,{placeholder:\"Password\"})),/*#__PURE__*/React.createElement(Form.Item,{name:\"remember\",valuePropName:\"checked\"},/*#__PURE__*/React.createElement(Checkbox,null,\"Remember me\")),/*#__PURE__*/React.createElement(Form.Item,null,/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return setIsLoad(!isLoad);},loading:isLoad,type:\"primary\",htmlType:\"submit\"},\"Login\"),/*#__PURE__*/React.createElement(Button,{style:{margin:5},onClick:function onClick(){return onReset();}},\"Reset\"),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return onCancel();}},\"Cancel\")))));}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/mycv/src/components/home/ModalFormLogin.jsx"],"names":["React","useState","Modal","Button","Form","Input","Checkbox","message","useDispatch","isLogin","ModalForm","visible","setVisible","isLoad","setIsLoad","dispatch","onFinish","value","success","onFinishFailed","err","console","log","onCancel","useForm","form","onReset","resetFields","fontSize","span","required","margin"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Button, Form, Input, Checkbox, message } from \"antd\";\nimport { useDispatch } from \"react-redux\";\nimport { isLogin } from \"../../action/IsLogin\";\n\nexport default function ModalForm() {\n  const [visible, setVisible] = useState(false);\n  const [isLoad, setIsLoad] = useState(false);\n  const dispatch = useDispatch();\n\n  const onFinish = async (value) => {\n    setVisible(false);\n    setIsLoad(false);\n    message.success(\"Login success!\");\n    dispatch(isLogin());\n  };\n  const onFinishFailed = (err) => {\n    console.log(\"Login failed!\", err);\n    setIsLoad(!isLoad);\n  };\n\n  const onCancel = () => {\n    setVisible(false);\n    setIsLoad(false);\n  };\n  const [form] = Form.useForm();\n  const onReset = () => {\n    form.resetFields();\n    setIsLoad(false);\n  };\n\n  return (\n    <>\n      <Button\n        style={{ fontSize: \"1.5em\" }}\n        type=\"link\"\n        onClick={() => setVisible(true)}\n      >\n        Login\n      </Button>\n      <Modal\n        closable={false}\n        title=\"Login to buy more\"\n        visible={visible}\n        footer={null}\n      >\n        <Form\n          form={form}\n          onFinish={onFinish}\n          onFinishFailed={onFinishFailed}\n          wrapperCol={{ span: 20 }}\n          labelCol={{ span: 30 }}\n\n          layout=\"horizontal\"\n        >\n          <Form.Item rules={[{ required: true }]} name=\"account\">\n            <Input placeholder=\"Account\" />\n          </Form.Item>\n          <Form.Item rules={[{ required: true }]} name=\"password\">\n            <Input.Password placeholder=\"Password\" />\n          </Form.Item>\n          <Form.Item name=\"remember\" valuePropName=\"checked\">\n            <Checkbox>Remember me</Checkbox>\n          </Form.Item>\n          <Form.Item>\n            <Button\n              onClick={() => setIsLoad(!isLoad)}\n              loading={isLoad}\n              type=\"primary\"\n              htmlType=\"submit\"\n            >\n              Login\n            </Button>\n            <Button style={{ margin: 5 }} onClick={() => onReset()}>\n              Reset\n            </Button>\n            <Button onClick={() => onCancel()}>Cancel</Button>\n          </Form.Item>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}