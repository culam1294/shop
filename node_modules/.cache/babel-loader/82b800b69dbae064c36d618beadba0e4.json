{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/lamn/Downloads/github/mycv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{addList}from\"../action/List\";import\"antd/dist/antd.css\";import{List,Card,message,Button,Badge,Input,Modal}from\"antd\";import{ShoppingCartOutlined}from\"@ant-design/icons\";import CarouselHome from\"./carousel/Carousel\";import callApi from\"../api/ApiCaller\";import{useHistory}from\"react-router-dom\";import LoginNavbar from\"./LoginNavbar\";export default function Home(){var Search=Input.Search;var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),load=_useState4[0],setLoad=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),dataSearch=_useState6[0],setDataSearch=_useState6[1];var dispatch=useDispatch();var listCart=useSelector(function(state){return state.list;});var history=useHistory();var goToCart=function goToCart(){history.push(\"/cart\");};useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi(\"get\",\"products\",null).then(function(res){setData(res.data);setDataSearch(res.data);}).catch(function(err){return console.log(err);});case 2:setLoad(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);//Send a product to CART\nvar sendProduct=function sendProduct(id){listCart.forEach(function(e){if(e.id===id){id=null;message.info(\"\".concat(e.name,\" is already in cart\"));}});data.forEach(function(item){if(item.id===id){dispatch(addList(item));}});};var _onSearch=function onSearch(value){var listSearch=[];dataSearch.forEach(function(item){if(item.name.indexOf(value)!==-1){listSearch.push(item);}});setData(listSearch);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{style:{display:\"inline-flex\"}},/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){return goToCart();},style:{margin:11},type:\"link\"},/*#__PURE__*/React.createElement(Badge,{count:listCart.length,showZero:true},/*#__PURE__*/React.createElement(\"span\",{style:{fontSize:\"1.5em\"}},\"Cart\"),/*#__PURE__*/React.createElement(ShoppingCartOutlined,{style:{fontSize:\"1.5em\"}}))),/*#__PURE__*/React.createElement(Search,{onSearch:function onSearch(value){return _onSearch(value);},enterButton:true,placeholder:\"Search...\",style:{margin:10}}),/*#__PURE__*/React.createElement(LoginNavbar,null)),/*#__PURE__*/React.createElement(CarouselHome,null),/*#__PURE__*/React.createElement(List,{grid:{gutter:10,xs:1,sm:2,md:3,lg:4,xl:5,xxl:6},loading:load,pagination:{pageSize:20},dataSource:data,renderItem:function renderItem(item){return/*#__PURE__*/React.createElement(List.Item,null,/*#__PURE__*/React.createElement(Card,{cover:/*#__PURE__*/React.createElement(\"img\",{alt:\"Products list\",src:item.image}),style:{textAlign:\"center\"},hoverable:\"true\",title:item.name},item.description,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{style:{margin:5},danger:true,onClick:function onClick(){return sendProduct(item.id);}},\"Add to Cart \",/*#__PURE__*/React.createElement(ShoppingCartOutlined,null))));}}));}","map":{"version":3,"sources":["/Users/lamn/Downloads/github/mycv/src/components/ProductsList.jsx"],"names":["React","useEffect","useState","useDispatch","useSelector","addList","List","Card","message","Button","Badge","Input","Modal","ShoppingCartOutlined","CarouselHome","callApi","useHistory","LoginNavbar","Home","Search","data","setData","load","setLoad","dataSearch","setDataSearch","dispatch","listCart","state","list","history","goToCart","push","fetchData","then","res","catch","err","console","log","sendProduct","id","forEach","e","info","name","item","onSearch","value","listSearch","indexOf","display","margin","length","fontSize","gutter","xs","sm","md","lg","xl","xxl","pageSize","image","textAlign","description"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addList } from \"../action/List\";\nimport \"antd/dist/antd.css\";\nimport { List, Card, message, Button, Badge, Input, Modal } from \"antd\";\nimport { ShoppingCartOutlined } from \"@ant-design/icons\";\nimport CarouselHome from \"./carousel/Carousel\";\nimport callApi from \"../api/ApiCaller\";\nimport { useHistory } from \"react-router-dom\";\nimport LoginNavbar from \"./LoginNavbar\";\n\nexport default function Home() {\n  const { Search } = Input;\n  const [data, setData] = useState();\n  const [load, setLoad] = useState(true);\n  const [dataSearch, setDataSearch] = useState();\n\n  const dispatch = useDispatch();\n  const listCart = useSelector((state) => state.list);\n\n  const history = useHistory();\n  const goToCart = () => {\n    history.push(\"/cart\");\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      await callApi(\"get\", \"products\", null)\n        .then((res) => {\n          setData(res.data);\n          setDataSearch(res.data);\n        })\n        .catch((err) => console.log(err));\n      setLoad(false);\n    }\n    fetchData();\n  }, []);\n\n  //Send a product to CART\n  const sendProduct = (id) => {\n    listCart.forEach((e) => {\n      if (e.id === id) {\n        id = null;\n        message.info(`${e.name} is already in cart`);\n      }\n    });\n    data.forEach((item) => {\n      if (item.id === id) {\n        dispatch(addList(item));\n      }\n    });\n  };\n  const onSearch = (value) => {\n    const listSearch = [];\n    dataSearch.forEach((item) => {\n      if (item.name.indexOf(value) !== -1) {\n        listSearch.push(item);\n      }\n    });\n    setData(listSearch);\n  };\n  \n  return (\n    <>\n      <div style={{ display: \"inline-flex\" }}>\n        <Button\n          onClick={() => goToCart()}\n          style={{\n            margin: 11,\n          }}\n          type=\"link\"\n        >\n          <Badge count={listCart.length} showZero>\n            <span style={{ fontSize: \"1.5em\" }}>Cart</span>\n            <ShoppingCartOutlined style={{ fontSize: \"1.5em\" }} />\n          </Badge>\n        </Button>\n        <Search\n          onSearch={(value) => onSearch(value)}\n          enterButton\n          placeholder=\"Search...\"\n          style={{ margin: 10 }}\n        />\n        <LoginNavbar />\n      </div>\n\n      <CarouselHome />\n\n      <List\n        grid={{\n          gutter: 10,\n          xs: 1,\n          sm: 2,\n          md: 3,\n          lg: 4,\n          xl: 5,\n          xxl: 6,\n        }}\n        loading={load}\n        pagination={{ pageSize: 20 }}\n        dataSource={data}\n        renderItem={(item) => (\n          <List.Item>\n            <Card\n              cover={<img alt=\"Products list\" src={item.image} />}\n              style={{ textAlign: \"center\" }}\n              hoverable=\"true\"\n              \n              title={item.name}\n            >\n              {item.description}\n              <br />\n              <Button\n                style={{ margin: 5 }}\n                danger\n                onClick={() => sendProduct(item.id)}\n              >\n                Add to Cart <ShoppingCartOutlined />\n              </Button>\n            </Card>\n          </List.Item>\n        )}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}